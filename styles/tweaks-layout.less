/* Layout variables */

// tweak: { category: "Layout", title: "Main Width", min: 500, max: 1500, step: 50, target: "div[data-layout-width=main]", type: "value" }
@mainContentWidth: 1100px;

// tweak: { category: "Layout", title: "Meta Width", min: 10, max: 50, step: 2, target: "div[data-layout-width=meta]", type: "value" }
@metaWidth: 40%;


// tweak: { category: "Layout", title: "Flexible Spacing", min: 0, max: 20, step: 1, target: "div[data-layout-spacing=regular]", type: "value" }
@mainSpacing: 5%;

// tweak: { category: "Layout", title: "Fixed Spacing", min: 0, max: 100, step: 5, target: "div[data-layout-spacing=alternate]", type: "value" }
@altSpacing: 17px;


[role] { /* Make them stack */
  position: relative;
  z-index: 1;
}

[role="complementary"] { /* Make prefooter go under by default */
  z-index: 0;
}

/* Default layout width is 100% */
[data-layout-width=main] {
  width: @mainContentWidth;
  .border-box;
  max-width: 100%;
  margin: auto; /* default is center */
  padding: @mainSpacing; /* default is mainSpacing */
}

.layout-width-meta() {
  width: @metaWidth;
  .border-box;
  max-width: 100%;
  padding: @mainSpacing; /* default is mainSpacing */

  @media screen and (max-width: 640px) {
    width: auto;
  }
}

[data-layout-width=meta] { .layout-width-meta; }

#site { /* These tend to be overrides so give them more weight */
  [data-layout-spacing] { .border-box; }
  [data-layout-spacing=none] { padding: 0; }
  [data-layout-spacing=flexible] { padding: @mainSpacing; }
  [data-layout-spacing=fixed] { padding: @altSpacing; }

  [data-layout-spacing=flexible-fixed] { padding: @mainSpacing @altSpacing; }
  [data-layout-spacing=flexible-none] { padding: @mainSpacing 0; }
  [data-layout-spacing=none-flexible] { padding: 0 @mainSpacing; }
  [data-layout-spacing=none-fixed] { padding: 0 @altSpacing; }
  [data-layout-spacing=fixed-flexible] { padding: @altSpacing @mainSpacing; }
  [data-layout-spacing=fixed-none] { padding: @altSpacing 0; }
}

/*
[data-layout-spacing=none] { padding: 0 !important; }
[data-layout-spacing*=none-sides] { padding-left: 0 !important; padding-right: 0 !important; }
[data-layout-spacing*=none-ends] { padding-top: 0 !important; padding-bottom: 0 !important; }
[data-layout-spacing*=none-top] { padding-top: 0 !important; }
[data-layout-spacing*=none-left] { padding-left: 0 !important; }
[data-layout-spacing*=none-right] { padding-right: 0 !important; }
[data-layout-spacing*=none-bottom] { padding-bottom: 0 !important; }

[data-layout-spacing=minimal] { padding: 0.5em !important; }
[data-layout-spacing*=minimal-sides] { padding-left: 0.5em !important; padding-right: 0.5em !important; }
[data-layout-spacing*=minimal-ends] { padding-top: 0.5em !important; padding-bottom: 0.5em !important; }
[data-layout-spacing*=minimal-top] { padding-top: 0.5em !important; }
[data-layout-spacing*=minimal-left] { padding-left: 0.5em !important; }
[data-layout-spacing*=minimal-right] { padding-right: 0.5em !important; }
[data-layout-spacing*=minimal-bottom] { padding-bottom: 0.5em !important; }

[data-layout-spacing=regular] { padding: @mainSpacing !important; }
[data-layout-spacing*=regular-sides] { padding-left: @mainSpacing !important; padding-right: @mainSpacing !important; }
[data-layout-spacing*=regular-ends] { padding-top: @mainSpacing !important; padding-bottom: @mainSpacing !important; }
[data-layout-spacing*=regular-top] { padding-top: @mainSpacing !important; }
[data-layout-spacing*=regular-left] { padding-left: @mainSpacing !important; }
[data-layout-spacing*=regular-right] { padding-right: @mainSpacing !important; }
[data-layout-spacing*=regular-bottom] { padding-bottom: @mainSpacing !important; }

[data-layout-spacing=alternate] { padding: @altSpacing !important; }
[data-layout-spacing*=alternate-sides] { padding-left: @altSpacing !important; padding-right: @altSpacing !important; }
[data-layout-spacing*=alternate-ends] { padding-top: @altSpacing !important; padding-bottom: @altSpacing !important; }
[data-layout-spacing*=alternate-top] { padding-top: @altSpacing !important; }
[data-layout-spacing*=alternate-left] { padding-left: @altSpacing !important; }
[data-layout-spacing*=alternate-right] { padding-right: @altSpacing !important; }
[data-layout-spacing*=alternate-bottom] { padding-bottom: @altSpacing !important; }*/


[data-layout-align=center] { margin: auto; }
[data-layout-align=left] { margin-left: 0; }
[data-layout-align=right] {  margin-right: 0; }

[data-text-align=center] { text-align: center; }

[data-align] {
  .flex-box;
  align-items: center;
  justify-content: center;
  text-align: center;
}

[data-align-overflow=wrap] { flex-wrap: wrap; }
[data-align-overflow=truncate] { 
  > * {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }
}

[data-align*=left] { justify-content: flex-start; text-align: left; }
[data-align*=right] { justify-content: flex-end; text-align: right; }
[data-align*=top] { align-items: flex-start; }
[data-align*=bottom] { align-items: flex-end; }

[data-align*=space-around] { justify-content: space-around; }
[data-align*=space-between] { justify-content: space-between; }
[data-align*=space-entire] { > * { width: 100%; } }

[data-align*=viewport] { height: 100vh; }
[data-align*=parent] { height: 100%; }

[data-display=hide] {
  display: none;
}

[data-display=overlaid] {
  position: absolute;
  left: 0;
  right: 0;
  z-index: 3; 
  /*pointer-events: none;  Allow clicks to pass through to bottom layer */
}

[data-display=overlaid-caption] { /* Triggers caption positioning */
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  padding: 0;
  z-index: 2; 

  .sqs-layout & {
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    z-index: 890 !important; 
    margin: 0 !important;
    padding: 0 !important;
    max-width: 100% !important;
    height: 100% !important;
  }
}

